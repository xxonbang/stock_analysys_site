/**
 * 지표 설명 데이터
 * 각 지표에 대한 초보자 수준의 친절한 설명과 데이터 획득/생성 방식 설명
 */

export interface IndicatorDescription {
  name: string;
  generalDescription: string;
  dataSource: string;
  calculationMethod: string;
}

export const indicatorDescriptions: Record<string, IndicatorDescription> = {
  rsi: {
    name: "RSI (상대강도지수)",
    generalDescription: `RSI(Relative Strength Index, 상대강도지수)는 주가의 과매수/과매도 상태를 판단하는 기술적 지표입니다. 0부터 100까지의 값을 가지며, 일반적으로 70 이상이면 과매수 상태, 30 이하면 과매도 상태로 해석됩니다.

RSI는 일정 기간 동안의 주가 상승폭과 하락폭을 비교하여 계산합니다. 상승 압력이 강하면 RSI가 높아지고, 하락 압력이 강하면 RSI가 낮아집니다. 이를 통해 주가의 모멘텀을 파악할 수 있습니다.`,
    dataSource: `현재 프로그램에서는 RSI를 계산하기 위해 주식 가격 데이터를 가져옵니다. 마치 여러 개의 신문을 구독해서 정보를 얻는 것처럼, 여러 곳에서 데이터를 가져올 수 있도록 준비되어 있습니다.

**어디서 데이터를 가져오나요?**

프로그램은 다음 순서로 데이터를 가져오려고 시도합니다:

1. **Python 프로그램** (가장 먼저 시도)
   - 서버에서 실행되는 Python 프로그램을 통해 주식 데이터를 가져옵니다
   - 특별한 설정이 되어 있을 때 사용됩니다

2. **Finnhub 서비스** (두 번째로 시도)
   - Finnhub라는 주식 데이터 제공 서비스를 이용합니다
   - 이 서비스를 사용하려면 인증 키가 필요합니다

3. **Yahoo Finance 서비스** (마지막 대안)
   - 위 두 방법이 실패하면 Yahoo Finance라는 무료 주식 정보 사이트에서 데이터를 가져옵니다
   - 가장 널리 사용되는 방법입니다

**어떤 데이터를 가져오나요?**

- 과거 180일치의 매일 주가 데이터 (하루의 마지막 거래 가격과 거래량)
- RSI를 계산하려면 최소 14일 이상의 데이터가 필요합니다

**왜 여러 방법을 준비했나요?**

한 곳에서 데이터를 가져오지 못할 때를 대비해서 여러 방법을 준비했습니다. 마치 한 가게가 문을 닫았을 때 다른 가게로 가는 것과 같습니다.`,
    calculationMethod: `RSI는 Wilder's Smoothing 방식으로 계산됩니다:

1. **기간**: 14일 (기본값)

2. **계산 과정**:
   - 과거 → 최신 순서로 정렬된 종가 배열 사용
   - 각 일자별 가격 변동 계산 (상승분과 하락분 분리)
   - 초기 14일간의 평균 상승폭과 평균 하락폭 계산
   - 이후 Wilder's Smoothing 방식으로 지수 이동평균 적용:
     * 평균 상승폭 = (이전 평균 상승폭 × 13 + 현재 상승폭) / 14
     * 평균 하락폭 = (이전 평균 하락폭 × 13 + 현재 하락폭) / 14
   - RS = 평균 상승폭 / 평균 하락폭
   - RSI = 100 - (100 / (1 + RS))

3. **데이터 부족 시**: 14일 미만의 데이터가 있으면 중립값 50을 반환합니다.`,
  },

  movingAverages: {
    name: "이동평균선 (5/20/60/120일)",
    generalDescription: `이동평균선은 일정 기간 동안의 주가 평균을 연결한 선입니다. 주가의 추세를 파악하고, 단기/중기/장기 추세를 비교할 수 있습니다.

**5일 이동평균선 (MA5)**: 단기 추세를 나타냅니다. 주가가 MA5 위에 있으면 단기 상승 추세로 볼 수 있습니다.

**20일 이동평균선 (MA20)**: 중기 추세를 나타냅니다. 많은 투자자들이 참고하는 중요한 기준선입니다.

**60일 이동평균선 (MA60)**: 중장기 추세를 나타냅니다. 분기별 추세를 파악하는 데 유용합니다.

**120일 이동평균선 (MA120)**: 장기 추세를 나타냅니다. 반기 추세를 파악하는 데 사용됩니다.

일반적으로 단기 이동평균선이 장기 이동평균선을 위로 돌파하면 "골든크로스"라고 하여 상승 신호로 해석되고, 반대로 교차하면 "데드크로스"라고 하여 하락 신호로 해석됩니다.`,
    dataSource: `현재 프로그램에서는 이동평균선을 계산하기 위해 주식 가격 데이터를 가져옵니다. RSI와 동일한 방식으로 여러 곳에서 데이터를 가져올 수 있습니다.

**어디서 데이터를 가져오나요?**

프로그램은 다음 순서로 데이터를 가져오려고 시도합니다:

1. **Python 프로그램** (가장 먼저 시도)
   - 서버에서 실행되는 Python 프로그램을 통해 주식 데이터를 가져옵니다

2. **Finnhub 서비스** (두 번째로 시도)
   - Finnhub라는 주식 데이터 제공 서비스를 이용합니다

3. **Yahoo Finance 서비스** (마지막 대안)
   - 위 두 방법이 실패하면 Yahoo Finance에서 데이터를 가져옵니다

**어떤 데이터를 가져오나요?**

- 과거 180일치의 매일 주가 데이터 (하루의 마지막 거래 가격)
- 120일 이동평균선을 계산하려면 최소 120일 이상의 데이터가 필요합니다

**왜 180일치나 가져오나요?**

가장 긴 이동평균선인 120일선을 계산하기 위해서는 최소 120일의 데이터가 필요하고, 더 안정적인 계산을 위해 여유 있게 180일치를 가져옵니다.`,
    calculationMethod: `이동평균선은 단순 이동평균(Simple Moving Average, SMA) 방식으로 계산됩니다:

1. **계산 방식**:
   - 각 이동평균선은 해당 기간 동안의 종가 평균값입니다
   - MA5 = 최근 5일 종가의 평균
   - MA20 = 최근 20일 종가의 평균
   - MA60 = 최근 60일 종가의 평균
   - MA120 = 최근 120일 종가의 평균

2. **데이터 순서**:
   - 과거 → 최신 순서로 정렬된 종가 배열 사용
   - 가장 최근 N일의 데이터를 사용하여 평균 계산

3. **데이터 부족 시**: 해당 기간의 데이터가 부족하면 null을 반환합니다 (차트에서 표시되지 않음).`,
  },

  disparity: {
    name: "이격도",
    generalDescription: `이격도는 현재 주가가 이동평균선으로부터 얼마나 떨어져 있는지를 나타내는 지표입니다. 주가가 이동평균선보다 얼마나 높거나 낮은지를 백분율로 표시합니다.

**이격도 = (현재가 / 이동평균선) × 100**

- 이격도가 100%보다 크면: 현재가가 이동평균선보다 위에 있음 (상승 추세)
- 이격도가 100%보다 작으면: 현재가가 이동평균선보다 아래에 있음 (하락 추세)
- 이격도가 100%이면: 현재가가 이동평균선과 일치

일반적으로 이격도가 105% 이상이면 과매수 상태, 95% 이하면 과매도 상태로 해석할 수 있습니다. 다만 종목과 시장 상황에 따라 기준이 달라질 수 있습니다.`,
    dataSource: `현재 프로그램에서는 이격도를 계산하기 위해 두 가지 정보가 필요합니다:

1. **현재 주가**: 지금 이 순간의 주식 가격
2. **20일 이동평균선**: 최근 20일간의 주가 평균값

**어디서 데이터를 가져오나요?**

이 두 정보는 이동평균선과 동일한 방법으로 가져옵니다:
- Python 프로그램을 통한 데이터 수집
- Finnhub 서비스를 통한 데이터 수집
- Yahoo Finance 서비스를 통한 데이터 수집 (다른 방법이 실패할 때)

**어떻게 사용하나요?**

현재 주가는 실시간으로 가져오고, 20일 이동평균선은 과거 20일간의 주가 데이터를 평균내어 계산합니다. 그 다음 이 두 값을 비교해서 이격도를 구합니다.`,
    calculationMethod: `이격도는 다음과 같이 계산됩니다:

1. **계산 공식**:
   이격도(%) = (현재가 / MA20) × 100

2. **계산 과정**:
   - 먼저 20일 이동평균선(MA20)을 계산합니다
   - 현재 주가를 MA20으로 나눈 후 100을 곱하여 백분율로 변환합니다
   - 소수점 둘째 자리까지 반올림하여 표시합니다

3. **예시**:
   - 현재가: 50,000원
   - MA20: 48,000원
   - 이격도 = (50,000 / 48,000) × 100 = 104.17%

4. **MA20이 0인 경우**: 이격도 100%를 반환합니다 (에러 방지).`,
  },

  supplyDemand: {
    name: "수급 (기관/외인)",
    generalDescription: `수급 데이터는 기관투자자, 외국인, 개인투자자의 매매 동향을 보여주는 지표입니다. 누가 주식을 사고 파는지를 파악하여 주가 움직임의 원인을 이해할 수 있습니다.

**기관투자자**: 보험사, 은행, 자산운용사 등 대형 금융기관입니다. 장기적인 관점에서 투자하는 경향이 있습니다.

**외국인**: 해외 투자자들입니다. 한국 주식시장에 큰 영향을 미치는 세력입니다.

**개인투자자**: 일반 개인 투자자들입니다.

일반적으로 기관과 외국인이 순매수하면 주가 상승 압력이 생기고, 순매도하면 하락 압력이 생깁니다. 다만 단기적인 수급만으로 판단하기보다는 장기적인 추세를 함께 봐야 합니다.`,
    dataSource: `현재 프로그램에서는 수급 데이터를 가져오는 특별한 방법을 사용합니다. 이 지표는 한국 주식에만 사용할 수 있습니다.

**어디서 데이터를 가져오나요?**

프로그램은 다음 순서로 데이터를 가져오려고 시도합니다:

1. **한국거래소 공식 서비스** (가장 먼저 시도)
   - 한국거래소에서 직접 제공하는 공식 데이터 서비스를 이용합니다
   - 가장 정확하고 신뢰할 수 있는 데이터입니다
   - 이 서비스를 사용하려면 인증 키가 필요합니다
   - 만약 이 방법이 실패하면 자동으로 다음 방법을 시도합니다

2. **네이버 금융 웹사이트** (두 번째 방법)
   - 한국거래소 서비스가 실패하면 네이버 금융 웹사이트에서 정보를 가져옵니다
   - 웹사이트를 자동으로 방문해서 필요한 정보를 읽어옵니다
   - 인증 키가 필요 없어서 더 쉽게 사용할 수 있습니다

**어떤 정보를 가져오나요?**

- 기관투자자(은행, 보험사 등)가 순수하게 산 주식 수량
- 외국인 투자자가 순수하게 산 주식 수량
- 개인투자자가 순수하게 산 주식 수량

**왜 한국 주식만 되나요?**

미국 주식은 이런 상세한 수급 데이터를 제공하는 서비스가 제한적이기 때문입니다. 한국 주식은 한국거래소에서 투자자별 매매 정보를 공개하고 있어서 가져올 수 있습니다.`,
    calculationMethod: `수급 데이터는 외부 API나 웹 크롤링을 통해 직접 수집합니다:

1. **KRX API 방식**:
   - KRX Open API의 유가증권 일별매매정보 API 호출
   - API 응답에서 투자자별 매매동향 데이터 추출
   - 최신 거래일 기준 데이터 제공

2. **네이버 크롤링 방식** (Fallback):
   - 네이버 금융 종목 페이지 접속
   - HTML 파싱을 통해 투자자별 매매동향 테이블 추출
   - 기관, 외국인, 개인 순매수량 파싱

3. **데이터 형식**:
   - 양수: 순매수 (매수 > 매도)
   - 음수: 순매도 (매도 > 매수)
   - 단위: 주(株)`,
  },

  fearGreed: {
    name: "공포/탐욕 지수 (VIX)",
    generalDescription: `VIX(Volatility Index)는 시장의 변동성을 나타내는 지수로, "공포 지수"라고도 불립니다. 시장 참여자들의 심리 상태를 반영합니다.

**VIX가 높을 때 (30 이상)**: 시장이 불안정하고 변동성이 크다는 의미입니다. 투자자들이 공포 상태에 있어 주가 하락 압력이 있을 수 있습니다.

**VIX가 낮을 때 (20 이하)**: 시장이 안정적이고 변동성이 낮다는 의미입니다. 투자자들이 탐욕 상태에 있어 주가 상승 추세가 지속될 수 있습니다.

**VIX가 중간 (20-30)**: 시장이 중립적인 상태입니다.

VIX는 미국 S&P 500 옵션의 내재변동성을 기반으로 계산되며, 전 세계 주식시장의 심리 지표로 널리 사용됩니다.`,
    dataSource: `현재 프로그램에서는 VIX 지수를 가져오는 특별한 방법을 사용합니다. VIX는 시장 전체의 심리를 나타내는 지표라서, 어떤 주식을 분석하든 같은 값을 사용합니다.

**어디서 데이터를 가져오나요?**

프로그램은 다음 순서로 VIX 지수를 가져오려고 시도합니다:

1. **Finnhub 서비스** (가장 먼저 시도)
   - Finnhub라는 주식 데이터 제공 서비스를 이용합니다
   - VIX라는 특별한 코드(^VIX)로 지수를 조회합니다
   - 이 서비스를 사용하려면 인증 키가 필요합니다
   - 실패하면 자동으로 다음 방법을 시도합니다

2. **Yahoo Finance 서비스** (두 번째 방법)
   - Finnhub가 실패하면 Yahoo Finance에서 VIX 지수를 가져옵니다
   - 가장 널리 사용되는 방법입니다
   - 가져오는데 실패하면 최대 3번까지 다시 시도합니다

**어떤 데이터를 가져오나요?**

- VIX 지수 값 하나 (실시간 또는 가장 최근 거래일의 값)

**왜 한 번만 가져오나요?**

VIX는 특정 주식이 아니라 시장 전체의 지표입니다. 예를 들어, 삼성전자를 분석하든 애플을 분석하든 같은 VIX 값을 사용합니다. 그래서 한 번만 가져와서 모든 주식 분석에 재사용하면 효율적입니다.`,
    calculationMethod: `VIX 지수는 외부 API를 통해 직접 수집하며, 프로그램 내에서 계산하지 않습니다:

1. **VIX 계산 방식** (참고):
   - VIX는 CBOE(Chicago Board Options Exchange)에서 계산하여 제공합니다
   - S&P 500 옵션의 내재변동성(Implied Volatility)을 기반으로 계산됩니다
   - 30일 만기 옵션의 가격 변동성을 측정합니다

2. **프로그램에서의 처리**:
   - Finnhub 또는 Yahoo Finance API에서 ^VIX 심볼의 현재가를 조회합니다
   - 실패 시 null을 반환하고, 분석 결과에서 제외됩니다
   - VIX 값이 있으면 AI 리포트 생성 시 시장 심리 분석에 활용됩니다`,
  },

  exchangeRate: {
    name: "환율 (USD/KRW)",
    generalDescription: `환율은 한 나라의 통화를 다른 나라의 통화로 교환할 때의 비율입니다. 여기서는 미국 달러(USD)와 한국 원화(KRW)의 환율을 의미합니다.

**환율이 높을 때**: 원화 가치가 낮아진 것입니다. 수출 기업에는 유리하지만, 수입 의존도가 높은 기업에는 불리합니다.

**환율이 낮을 때**: 원화 가치가 높아진 것입니다. 수입 기업에는 유리하지만, 수출 기업에는 불리합니다.

환율은 주식시장에 큰 영향을 미칩니다. 특히 수출/수입 비중이 높은 기업의 주가에 직접적인 영향을 줍니다. 또한 외국인 투자자들의 투자 심리에도 영향을 미칩니다.`,
    dataSource: `현재 프로그램에서는 환율 데이터를 가져오는 특별한 방법을 사용합니다. 환율은 시장 전체에 영향을 주는 지표라서, 어떤 주식을 분석하든 같은 값을 사용합니다.

**어디서 데이터를 가져오나요?**

프로그램은 다음 순서로 환율을 가져오려고 시도합니다:

1. **Finnhub 서비스** (가장 먼저 시도)
   - Finnhub라는 주식 데이터 제공 서비스를 이용합니다
   - 환율 전용 서비스를 통해 1달러당 원화 가격을 조회합니다
   - 이 서비스를 사용하려면 인증 키가 필요합니다
   - 실패하면 자동으로 다음 방법을 시도합니다

2. **Yahoo Finance 서비스** (두 번째 방법)
   - Finnhub가 실패하면 Yahoo Finance에서 환율을 가져옵니다
   - KRW=X라는 특별한 코드로 환율을 조회합니다
   - 가져오는데 실패하면 최대 3번까지 다시 시도합니다

**어떤 데이터를 가져오나요?**

- 1달러당 원화 가격 (예: 1,300원)

**왜 한 번만 가져오나요?**

환율은 특정 주식이 아니라 시장 전체에 영향을 주는 지표입니다. 예를 들어, 삼성전자를 분석하든 애플을 분석하든 같은 환율 값을 사용합니다. 그래서 한 번만 가져와서 모든 주식 분석에 재사용하면 효율적입니다.`,
    calculationMethod: `환율은 외부 API를 통해 직접 수집하며, 프로그램 내에서 계산하지 않습니다:

1. **환율 결정 방식** (참고):
   - 환율은 외환시장에서 수요와 공급에 의해 결정됩니다
   - 각국의 중앙은행 정책, 경제 지표, 무역 수지 등이 영향을 미칩니다
   - 실시간으로 변동하며, 거래 시간대에 따라 달라질 수 있습니다

2. **프로그램에서의 처리**:
   - Finnhub 또는 Yahoo Finance API에서 USD/KRW 환율을 조회합니다
   - 실패 시 null을 반환하고, 분석 결과에서 제외됩니다
   - 환율 값이 있으면 AI 리포트 생성 시 환율 영향 분석에 활용됩니다`,
  },

  etfPremium: {
    name: "ETF 괴리율",
    generalDescription: `ETF 괴리율은 ETF의 시장 가격과 순자산가치(NAV, Net Asset Value) 간의 차이를 백분율로 나타낸 지표입니다.

**괴리율 = ((시장 가격 - NAV) / NAV) × 100**

**프리미엄 (양수)**: 시장 가격이 NAV보다 높은 상태입니다. ETF가 실제 가치보다 비싸게 거래되고 있다는 의미입니다.

**할인 (음수)**: 시장 가격이 NAV보다 낮은 상태입니다. ETF가 실제 가치보다 싸게 거래되고 있다는 의미입니다.

일반적으로 괴리율이 크면 (절대값이 크면) 비정상적인 상태로 볼 수 있으며, 시간이 지나면서 NAV에 수렴하는 경향이 있습니다.`,
    dataSource: `현재 프로그램에서는 ETF 괴리율을 계산하기 위해 특별한 데이터를 가져옵니다. 이 지표는 한국 ETF에만 사용할 수 있습니다.

**어디서 데이터를 가져오나요?**

**한국거래소 공식 서비스**
- 한국거래소에서 직접 제공하는 공식 데이터 서비스를 이용합니다
- ETF 전용 정보 서비스를 통해 데이터를 가져옵니다
- 이 서비스를 사용하려면 인증 키가 필요합니다

**어떤 정보를 가져오나요?**

1. **ETF 시장 가격**: 지금 이 순간 ETF가 거래되고 있는 가격
2. **NAV (순자산가치)**: ETF가 실제로 가지고 있는 자산의 가치

**NAV가 뭔가요?**

NAV는 ETF가 실제로 보유하고 있는 주식들의 가치를 합산한 것입니다. 예를 들어, ETF가 삼성전자 주식 100주와 SK하이닉스 주식 50주를 가지고 있다면, 이들의 현재 가격을 모두 더한 것이 NAV입니다.

**왜 한국 ETF만 되나요?**

한국거래소에서는 ETF의 NAV 정보를 공개하고 있어서 가져올 수 있지만, 미국 ETF의 경우 이런 정보를 쉽게 가져올 수 있는 서비스가 제한적이기 때문입니다.`,
    calculationMethod: `ETF 괴리율은 다음과 같이 계산됩니다:

1. **계산 공식**:
   괴리율(%) = ((시장 가격 - NAV) / NAV) × 100

2. **계산 과정**:
   - KRX API에서 ETF의 NAV 데이터를 조회합니다
   - 현재 ETF 시장 가격을 가져옵니다
   - 위 공식에 따라 괴리율을 계산합니다
   - 소수점 둘째 자리까지 반올림합니다

3. **판단 기준**:
   - 괴리율 > 0: 프리미엄 상태
   - 괴리율 < 0: 할인 상태
   - 괴리율 = 0: NAV와 일치

4. **NAV가 0이거나 없는 경우**: 괴리율 0%를 반환합니다 (에러 방지).`,
  },

  bollingerBands: {
    name: "볼린저 밴드",
    generalDescription: `볼린저 밴드는 이동평균선을 중심으로 상단 밴드와 하단 밴드를 그려주는 기술적 지표입니다. 주가의 변동성과 과매수/과매도 상태를 파악하는 데 사용됩니다.

**구성 요소**:
- **중심선**: 20일 이동평균선
- **상단 밴드**: 중심선 + (표준편차 × 2)
- **하단 밴드**: 중심선 - (표준편차 × 2)

**해석 방법**:
- 주가가 상단 밴드에 근접하면: 과매수 상태, 조정 가능성
- 주가가 하단 밴드에 근접하면: 과매도 상태, 반등 가능성
- 밴드폭이 넓어지면: 변동성 증가 (큰 움직임 예상)
- 밴드폭이 좁아지면: 변동성 감소 (큰 움직임 전조)

볼린저 밴드는 주가가 밴드 범위 내에서 움직이는 경향이 있으며, 밴드를 벗어나면 다시 밴드 안으로 돌아오는 경향(평균 회귀)을 보입니다.`,
    dataSource: `현재 프로그램에서는 볼린저 밴드를 계산하기 위해 주식 가격 데이터를 가져옵니다. 이동평균선과 동일한 방법으로 데이터를 가져옵니다.

**어디서 데이터를 가져오나요?**

프로그램은 다음 순서로 데이터를 가져오려고 시도합니다:

1. **Python 프로그램** (가장 먼저 시도)
   - 서버에서 실행되는 Python 프로그램을 통해 주식 데이터를 가져옵니다

2. **Finnhub 서비스** (두 번째로 시도)
   - Finnhub라는 주식 데이터 제공 서비스를 이용합니다

3. **Yahoo Finance 서비스** (마지막 대안)
   - 위 두 방법이 실패하면 Yahoo Finance에서 데이터를 가져옵니다

**어떤 데이터를 가져오나요?**

- 과거 20일 이상의 매일 주가 데이터 (하루의 마지막 거래 가격)
- 최소 20일의 데이터가 필요합니다

**왜 20일이 필요한가요?**

볼린저 밴드는 20일 이동평균선을 중심으로 계산되기 때문에, 최소 20일의 데이터가 있어야 정확하게 계산할 수 있습니다.`,
    calculationMethod: `볼린저 밴드는 다음과 같이 계산됩니다:

1. **기본 설정**:
   - 기간: 20일
   - 표준편차 배수: 2배

2. **계산 과정**:
   - **1단계**: 최근 20일 종가의 평균 계산 (중심선 = MA20)
   - **2단계**: 최근 20일 종가의 표준편차 계산
     * 분산 = Σ(각 종가 - 평균)² / 20
     * 표준편차 = √분산
   - **3단계**: 밴드 계산
     * 상단 밴드 = 중심선 + (표준편차 × 2)
     * 하단 밴드 = 중심선 - (표준편차 × 2)
   - **4단계**: 밴드폭 계산
     * 밴드폭(%) = ((상단 밴드 - 하단 밴드) / 중심선) × 100
   - **5단계**: 현재가 위치 계산
     * 위치 = (현재가 - 하단 밴드) / (상단 밴드 - 하단 밴드)
     * 0에 가까우면 하단 근처, 1에 가까우면 상단 근처

3. **데이터 부족 시**: 20일 미만의 데이터가 있으면 모든 값을 현재가로 설정합니다.`,
  },

  volatility: {
    name: "변동성 지표",
    generalDescription: `변동성은 주가가 얼마나 크게 움직이는지를 나타내는 지표입니다. 변동성이 높으면 주가가 크게 오르내리고, 변동성이 낮으면 주가가 안정적으로 움직입니다.

**변동성이 높을 때**:
- 주가가 크게 변동합니다
- 투자 리스크가 높습니다
- 큰 수익 기회와 큰 손실 위험이 공존합니다

**변동성이 낮을 때**:
- 주가가 안정적으로 움직입니다
- 투자 리스크가 낮습니다
- 수익과 손실이 모두 작을 수 있습니다

변동성은 일일 수익률의 표준편차로 계산되며, 연율화하여 연간 기준으로도 표시할 수 있습니다.`,
    dataSource: `현재 프로그램에서는 변동성을 계산하기 위해 주식 가격 데이터를 가져옵니다. 볼린저 밴드와 동일한 방법으로 데이터를 가져옵니다.

**어디서 데이터를 가져오나요?**

프로그램은 다음 순서로 데이터를 가져오려고 시도합니다:

1. **Python 프로그램** (가장 먼저 시도)
   - 서버에서 실행되는 Python 프로그램을 통해 주식 데이터를 가져옵니다

2. **Finnhub 서비스** (두 번째로 시도)
   - Finnhub라는 주식 데이터 제공 서비스를 이용합니다

3. **Yahoo Finance 서비스** (마지막 대안)
   - 위 두 방법이 실패하면 Yahoo Finance에서 데이터를 가져옵니다

**어떤 데이터를 가져오나요?**

- 과거 20일 이상의 매일 주가 데이터 (하루의 마지막 거래 가격)
- 최소 20일의 데이터가 필요합니다

**왜 20일이 필요한가요?**

변동성은 최근 20일간의 주가 움직임을 분석해서 계산하기 때문에, 최소 20일의 데이터가 있어야 정확하게 계산할 수 있습니다.`,
    calculationMethod: `변동성은 다음과 같이 계산됩니다:

1. **기본 설정**:
   - 기간: 20일

2. **계산 과정**:
   - **1단계**: 일일 수익률 계산
     * 각 일자별 수익률 = (전일 종가 - 당일 종가) / 당일 종가
     * 과거 → 최신 순서로 계산
   - **2단계**: 평균 수익률 계산
     * 평균 수익률 = 모든 일일 수익률의 평균
   - **3단계**: 분산 계산
     * 분산 = Σ(각 수익률 - 평균 수익률)² / 기간
   - **4단계**: 표준편차 계산 (변동성)
     * 변동성(%) = √분산 × 100
   - **5단계**: 연율화 변동성 계산
     * 연율화 변동성(%) = 변동성 × √252
     * (252는 1년의 거래일 수)

3. **변동성 등급**:
   - 낮음: 연율화 변동성 < 15%
   - 중간: 15% ≤ 연율화 변동성 < 30%
   - 높음: 연율화 변동성 ≥ 30%

4. **데이터 부족 시**: 20일 미만의 데이터가 있으면 변동성 0%를 반환합니다.`,
  },

  volumeIndicators: {
    name: "거래량 지표",
    generalDescription: `거래량 지표는 주식의 거래 활발도를 나타내는 지표입니다. 거래량이 많으면 많은 투자자들이 관심을 가지고 있다는 의미이며, 주가 움직임의 신뢰도를 높여줍니다.

**거래량 비율**: 현재 거래량이 평균 거래량 대비 얼마나 많은지를 나타냅니다.
- 1.5배 이상: 고거래량 (큰 관심, 중요한 움직임 가능성)
- 1.0배 근처: 평균 수준
- 0.5배 이하: 저거래량 (관심 부족)

**거래량 추세**: 최근 거래량이 증가하는지 감소하는지를 나타냅니다.
- 증가: 거래량이 늘어나고 있음 (관심 증가)
- 감소: 거래량이 줄어들고 있음 (관심 감소)
- 안정: 거래량이 일정함

일반적으로 주가 상승 시 거래량이 함께 증가하면 상승 신뢰도가 높고, 주가 하락 시 거래량이 증가하면 하락 압력이 강하다고 해석할 수 있습니다.`,
    dataSource: `현재 프로그램에서는 거래량 지표를 계산하기 위해 주식 거래량 데이터를 가져옵니다. 주가 데이터와 함께 가져옵니다.

**어디서 데이터를 가져오나요?**

프로그램은 다음 순서로 데이터를 가져오려고 시도합니다:

1. **Python 프로그램** (가장 먼저 시도)
   - 서버에서 실행되는 Python 프로그램을 통해 주식 데이터를 가져옵니다

2. **Finnhub 서비스** (두 번째로 시도)
   - Finnhub라는 주식 데이터 제공 서비스를 이용합니다

3. **Yahoo Finance 서비스** (마지막 대안)
   - 위 두 방법이 실패하면 Yahoo Finance에서 데이터를 가져옵니다

**어떤 데이터를 가져오나요?**

- 과거 20일 이상의 매일 거래량 데이터 (하루에 거래된 주식 수)
- 최소 20일의 데이터가 필요합니다

**거래량이 뭔가요?**

거래량은 하루 동안 그 주식을 몇 주나 거래했는지를 나타냅니다. 예를 들어, 거래량이 100만 주라면 그날 100만 주가 팔리고 산 것입니다. 거래량이 많으면 많은 사람들이 관심을 가지고 있다는 의미입니다.`,
    calculationMethod: `거래량 지표는 다음과 같이 계산됩니다:

1. **기본 설정**:
   - 기간: 20일

2. **계산 과정**:
   - **1단계**: 평균 거래량 계산
     * 평균 거래량 = 최근 20일 거래량의 평균
   - **2단계**: 거래량 비율 계산
     * 거래량 비율 = 현재 거래량 / 평균 거래량
   - **3단계**: 고거래량 여부 판단
     * 고거래량 = 거래량 비율 ≥ 1.5
   - **4단계**: 거래량 추세 계산
     * 최근 5일 거래량 비교
     * 첫날 거래량 > 마지막날 거래량 × 1.1: 증가
     * 첫날 거래량 < 마지막날 거래량 × 0.9: 감소
     * 그 외: 안정

3. **데이터 부족 시**: 20일 미만의 데이터가 있으면 현재 거래량을 평균으로 사용하고, 비율 1.0, 추세 안정으로 설정합니다.`,
  },

  supportLevel: {
    name: "눌림목 여부",
    generalDescription: `눌림목은 주가가 하락하다가 특정 가격대에서 지지를 받아 반등하는 지점을 의미합니다. 이 지점은 과거에 주가가 여러 번 반등한 가격대이며, 앞으로도 지지 역할을 할 가능성이 높습니다.

**눌림목 근처에 있을 때**:
- 주가가 지지선 근처에 있어 하락 압력이 약해질 수 있습니다
- 반등 가능성이 있습니다
- 하지만 지지선을 뚫으면 추가 하락 가능성도 있습니다

**눌림목에서 멀리 있을 때**:
- 주가가 지지선에서 충분히 떨어져 있어 추가 하락 여지가 있을 수 있습니다
- 또는 상승 여력이 충분할 수 있습니다

눌림목은 기술적 분석에서 중요한 지지선으로 활용되며, 이 지점에서 매수 타이밍을 노리는 투자자들이 많습니다.`,
    dataSource: `현재 프로그램에서는 눌림목을 판단하기 위해 주식 가격 데이터를 가져옵니다. 주가 데이터와 동일한 방법으로 가져옵니다.

**어디서 데이터를 가져오나요?**

프로그램은 다음 순서로 데이터를 가져오려고 시도합니다:

1. **Python 프로그램** (가장 먼저 시도)
   - 서버에서 실행되는 Python 프로그램을 통해 주식 데이터를 가져옵니다

2. **Finnhub 서비스** (두 번째로 시도)
   - Finnhub라는 주식 데이터 제공 서비스를 이용합니다

3. **Yahoo Finance 서비스** (마지막 대안)
   - 위 두 방법이 실패하면 Yahoo Finance에서 데이터를 가져옵니다

**어떤 데이터를 가져오나요?**

- 과거 20일 이상의 매일 주가 데이터
- 하루의 마지막 거래 가격 (필수)
- 하루의 가장 낮은 가격 (가능하면 사용, 없으면 마지막 거래 가격 사용)

**왜 저가 데이터가 필요한가요?**

눌림목은 주가가 가장 낮았던 지점을 찾는 것이기 때문에, 하루 중 가장 낮은 가격을 알면 더 정확하게 판단할 수 있습니다. 하지만 낮은 가격 정보가 없어도 마지막 거래 가격으로 대체해서 계산할 수 있습니다.`,
    calculationMethod: `눌림목 여부는 다음과 같이 판단됩니다:

1. **기본 설정**:
   - 분석 기간: 최근 20일

2. **계산 과정**:
   - **1단계**: 최근 20일간의 저점 추출
     * 각 일자의 저가(또는 종가)를 수집
     * 저가 데이터가 있으면 저가 사용, 없으면 종가 사용
   - **2단계**: 지지선 계산
     * 지지선 = 최근 20일간의 최저가
   - **3단계**: 현재가와 지지선 간 거리 계산
     * 거리(%) = ((현재가 - 지지선) / 지지선) × 100
   - **4단계**: 눌림목 여부 판단
     * 지지선 근처: -5% ≤ 거리 ≤ 5%
     * 즉, 현재가가 지지선의 95%~105% 범위 내에 있으면 눌림목으로 판단

3. **제한사항**:
   - 20일 미만의 데이터가 있으면 눌림목이 아니라고 판단합니다
   - 저가 데이터가 없으면 종가를 사용하여 근사치를 계산합니다`,
  },

  supportResistance: {
    name: "저항선/지지선",
    generalDescription: `저항선과 지지선은 주가가 반복적으로 상승을 멈추거나 하락을 멈추는 가격대를 의미합니다.

**저항선 (Resistance Level)**:
- 주가가 상승하다가 여러 번 멈춘 가격대
- 이 가격대를 돌파하면 추가 상승 가능성
- 돌파하지 못하면 하락 가능성

**지지선 (Support Level)**:
- 주가가 하락하다가 여러 번 반등한 가격대
- 이 가격대를 하회하면 추가 하락 가능성
- 지지받으면 반등 가능성

**현재 위치**:
- 저항선 근처: 상승 여력이 제한될 수 있음
- 지지선 근처: 하락 압력이 약해질 수 있음
- 중간: 상승/하락 여력 모두 있음

저항선과 지지선은 과거 주가 움직임을 분석하여 찾아내며, 앞으로도 유효할 가능성이 높은 중요한 가격대입니다.`,
    dataSource: `현재 프로그램에서는 저항선/지지선을 계산하기 위해 주식 가격 데이터를 가져옵니다. 주가 데이터와 동일한 방법으로 가져옵니다.

**어디서 데이터를 가져오나요?**

프로그램은 다음 순서로 데이터를 가져오려고 시도합니다:

1. **Python 프로그램** (가장 먼저 시도)
   - 서버에서 실행되는 Python 프로그램을 통해 주식 데이터를 가져옵니다

2. **Finnhub 서비스** (두 번째로 시도)
   - Finnhub라는 주식 데이터 제공 서비스를 이용합니다

3. **Yahoo Finance 서비스** (마지막 대안)
   - 위 두 방법이 실패하면 Yahoo Finance에서 데이터를 가져옵니다

**어떤 데이터를 가져오나요?**

- 과거 60일 이상의 매일 주가 데이터
- 하루의 마지막 거래 가격 (필수)
- 하루의 가장 높은 가격 (가능하면 사용, 없으면 마지막 거래 가격 사용)
- 하루의 가장 낮은 가격 (가능하면 사용, 없으면 마지막 거래 가격 사용)

**왜 60일이나 필요한가요?**

저항선과 지지선은 주가가 여러 번 반복적으로 멈춘 지점을 찾는 것이기 때문에, 더 긴 기간의 데이터를 보면 더 정확하게 찾을 수 있습니다. 60일은 약 3개월치 데이터로, 충분한 패턴을 찾을 수 있는 기간입니다.`,
    calculationMethod: `저항선/지지선은 다음과 같이 계산됩니다:

1. **기본 설정**:
   - 분석 기간: 최근 60일

2. **계산 과정**:
   - **1단계**: 고점과 저점 추출
     * 고점: 각 일자의 고가(또는 종가) 수집
     * 저점: 각 일자의 저가(또는 종가) 수집
     * 고가/저가 데이터가 있으면 사용, 없으면 종가 사용
   - **2단계**: 저항선 계산
     * 모든 고점을 내림차순 정렬
     * 상위 3개의 고점을 저항선 레벨로 설정
   - **3단계**: 지지선 계산
     * 모든 저점을 오름차순 정렬
     * 하위 3개의 저점을 지지선 레벨로 설정
   - **4단계**: 현재 위치 판단
     * 가장 가까운 저항선과의 거리 계산
     * 가장 가까운 지지선과의 거리 계산
     * 거리 3% 이내면 "근처"로 판단
     * 저항선 근처: near_resistance
     * 지지선 근처: near_support
     * 그 외: middle

3. **제한사항**:
   - 60일 미만의 데이터가 있으면 현재가를 저항선/지지선으로 설정합니다
   - 고가/저가 데이터가 없으면 종가를 사용하여 근사치를 계산합니다`,
  },
};
